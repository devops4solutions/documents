<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Kubernetes/kubernetes-pods-examples" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Kubernetes Pods explained with examples | Devops4Solutions Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://devops4solutions.com/*/docs/Kubernetes/kubernetes-pods-examples"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Kubernetes Pods explained with examples | Devops4Solutions Documentation"><meta data-rh="true" name="description" content="In this blog, we will explore the concepts of Kubernetes pods, how to create them using the yaml configuration, check pod logs etc."><meta data-rh="true" property="og:description" content="In this blog, we will explore the concepts of Kubernetes pods, how to create them using the yaml configuration, check pod logs etc."><link data-rh="true" rel="icon" href="/*/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://devops4solutions.com/*/docs/Kubernetes/kubernetes-pods-examples"><link data-rh="true" rel="alternate" href="https://devops4solutions.com/*/docs/Kubernetes/kubernetes-pods-examples" hreflang="en"><link data-rh="true" rel="alternate" href="https://devops4solutions.com/*/docs/Kubernetes/kubernetes-pods-examples" hreflang="x-default"><link rel="stylesheet" href="/*/assets/css/styles.7556a39d.css">
<link rel="preload" href="/*/assets/js/runtime~main.2059c8d6.js" as="script">
<link rel="preload" href="/*/assets/js/main.3d7a9db0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/*/"><b class="navbar__title text--truncate">DevOps Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/*/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/*/docs/Ansible/ansible-common-usecase">Ansible</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/*/docs/Kubernetes/Kubernetes-pods">Kubernetes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/*/docs/Kubernetes/Kubernetes-pods">Kubernetes Pods Health Check using Liveness and Readiness</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/*/docs/Kubernetes/configmaps">configmaps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/*/docs/Kubernetes/controllers">Kubernetes Controllers Explained with Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/*/docs/Kubernetes/intro-kubernetes">What is Kubernetes ?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/*/docs/Kubernetes/kubernetes-pods-examples">Kubernetes Pods explained with examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/*/docs/Kubernetes/labels-and-annotations">Kubernetes Labels and Annotation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/*/docs/Kubernetes/objects">Understand Kubernetes Object and Create Nginx Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/*/docs/Kubernetes/services">Exposing Kubernetes Applications usingÂ Services</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/*/docs/Sonarqube/">What is Sonarqube</a><button aria-label="Toggle the collapsible sidebar category &#x27;What is Sonarqube&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/*/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Kubernetes</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Kubernetes Pods explained with examples</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Kubernetes Pods explained with examples</h1></header><p>In this blog, we will explore the concepts of Kubernetes pods, how to create them using the yaml configuration, check pod logs etc.Â </p><p>Check out my <a href="https://youtu.be/j4I-YmfWPGc" target="_blank" rel="noopener noreferrer">YouTube</a> video on this blog.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisite"><strong>Prerequisite</strong>:<a href="#prerequisite" class="hash-link" aria-label="Direct link to prerequisite" title="Direct link to prerequisite">â</a></h3><ol><li>Functional <a href="https://devops4solutions.com/setup-kubernetes-cluster-in-gcp/" target="_blank" rel="noopener noreferrer">Kubernetes Cluster</a> configured</li><li>Kubernetesâ command-line tool, kubectl, which is the command-line interface for running commands against Kubernetes clusters.</li><li>Clone <a href="https://github.com/devops4solutions/kubernetes-sample-deployment" target="_blank" rel="noopener noreferrer">this</a> git repo for all the yaml files which we will be using in this blog</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="agenda"><strong>Agenda</strong>:<a href="#agenda" class="hash-link" aria-label="Direct link to agenda" title="Direct link to agenda">â</a></h3><ol><li>Create a simple pod</li><li>Create a pod in different namespaces</li><li>Creating a Pod in a Different Namespace using yaml configuration</li><li>Create a Pod running a container</li><li>Change the default namespace</li><li>Pod Running a Container That Exposes a Port</li><li>Pod Running a Container with Resource Requirements</li><li>Create a Pod with Resource Requests That Canât Be Met by Any of the Nodes</li><li>Pod with Multiple Containers</li><li>Pod Lifecycle</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-pod"><strong>What is a POD</strong><a href="#what-is-a-pod" class="hash-link" aria-label="Direct link to what-is-a-pod" title="Direct link to what-is-a-pod">â</a></h3><ul><li>A pod is the basic building block of Kubernetes</li><li>Basic unit of deployment</li><li>A pod can have any number of containers running in it</li><li>A pod is basically a wrapper around containers running on a node</li><li>Containers in a pod have shared volumes, Linux namespaces, and cgroups. Each pod has a unique IP address and the port space is shared by all the containers in that pod. This means that different containers inside a pod can communicate with each other using their corresponding ports on localhost.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-first-pod-with-single-container"><strong>Creating a first pod with single container</strong><a href="#creating-a-first-pod-with-single-container" class="hash-link" aria-label="Direct link to creating-a-first-pod-with-single-container" title="Direct link to creating-a-first-pod-with-single-container">â</a></h3><p>kind: Pod<br>
<!-- -->apiVersion: v1<br>
<!-- -->metadata:<br>
<!-- -->name: pod-1<br>
<!-- -->spec:<br>
<!-- -->containers:  </p><ul><li>name: container-1<br>image: nginx</li></ul><p>Create a pod</p><p>kubectl create -f pod-singlecontainer.yaml<br>
<!-- -->kubectl get pods</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*nf3hUPv1uj_Q1Z0HgqLZ7Q.png" class="img_ev3q"></p><p>Describe the pod</p><p>kubectl describe pod pod-1</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*_2G50KApFAryusn2ltzcXQ.png" class="img_ev3q"></p><p><strong>Name</strong>: Pod name is unique in a particular namespace</p><p><strong>Namespace:</strong> Kubernetes supports namespaces to create multiple virtual clusters within the same physical cluster.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="why-we-use-namespace"><strong>Why we use namespaceÂ ?</strong><a href="#why-we-use-namespace" class="hash-link" aria-label="Direct link to why-we-use-namespace" title="Direct link to why-we-use-namespace">â</a></h5><p>When we have only one cluster and different teams are using that. In that case it would be great if every team create their resources in their own namespaces.</p><p>We want to separate the environment like dev, stage in different namespaces</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-pod-in-different-namespaces"><strong>Create a pod in different namespaces</strong><a href="#create-a-pod-in-different-namespaces" class="hash-link" aria-label="Direct link to create-a-pod-in-different-namespaces" title="Direct link to create-a-pod-in-different-namespaces">â</a></h3><p>First you can check how many namespaces are already present</p><p>kubectl get namespaces</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*bKY0fPDwlbLphr7g_AJFUQ.png" class="img_ev3q"></p><p>Here, I am using the same yaml file to create a pod if I donât specify the namespace the command will fail with the error â<strong>pod is already exist</strong>â</p><p>kubectl --namespace=kube-public create -f pod-singlecontainer.yaml</p><p>Verify the pod</p><p>Now to check pods you need to define the namespace else by default <code>kubectl get pods</code> command will show only pods which are running in the default namespace.</p><p>kubectl --namespace kube-public get pods</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*GoD5vHDEzFhsPcCUAN7Pyg.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-in-a-different-namespace-by-using-yaml-configuration">Pod in a Different Namespace by using yaml configuration<a href="#pod-in-a-different-namespace-by-using-yaml-configuration" class="hash-link" aria-label="Direct link to Pod in a Different Namespace by using yaml configuration" title="Direct link to Pod in a Different Namespace by using yaml configuration">â</a></h3><p>In the yaml file we will define which namespace to use while creating a pod</p><p>kind: Pod<br>
<!-- -->apiVersion: v1<br>
<!-- -->metadata:<br>
<!-- -->name: pod-1<br>
<strong>namespace: kube-public</strong>spec:<br>
<!-- -->containers:  </p><ul><li>name: container-1<br>image: nginx</li></ul><p>Create and verify a Pod</p><p>kubectl create -f pod-namespacesinglecontainer.yaml<br>
<!-- -->kubectl --namespace kube-public get pods</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*E_h_Fb7CiXHvLSGfsW4uAw.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="change-the-default-namespace"><strong>Change the default namespace</strong><a href="#change-the-default-namespace" class="hash-link" aria-label="Direct link to change-the-default-namespace" title="Direct link to change-the-default-namespace">â</a></h3><p>So we saw that we need to explicitly define the namespace to show all the pods which are running in that namespace.</p><p>This is not a convenient way if we are doing this for each and every commandÂ .</p><p>When we know that we are working only on one namespace than we can set that using the below command</p><p>kubectl config set-context --current --namespace kube-public</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*qgQEfpRmx8v1FCoDTbI7KQ.png" class="img_ev3q"></p><p>Check the pods</p><p>kubectl get pods</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*wYMbujzwcbJSE5-DQQlsBQ.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-running-a-container">Pod Running a Container<a href="#pod-running-a-container" class="hash-link" aria-label="Direct link to Pod Running a Container" title="Direct link to Pod Running a Container">â</a></h3><p>In this yaml file we are providing the configuration for a container as shown below:</p><p>kind: Pod<br>
<!-- -->apiVersion: v1<br>
<!-- -->metadata:<br>
<!-- -->name: command-pod<br>
<!-- -->spec:<br>
<!-- -->**containers:  </p><ul><li>name:** container-with-command</li></ul><p>**image: ubuntu<br>
<!-- -->command:  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">- /bin/bash  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- -ec  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- while :; do echo &#x27;.&#x27;; sleep 5; done**</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create a pod</p><p>kubectl create -f pod-singlecontainer.yaml</p><p>Check the logs</p><p><em>Now we will check the logs of our container using the pod name</em></p><p><em>The</em> <strong>-<!-- -->f</strong> <em>flag is to follow the logs on the container. That is, the log keeps updating in real-time</em></p><p>kubectl logs command-pod -f</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*Xbvi7vfyhoW9qkQ__cUv3A.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-running-a-container-that-exposes-aport">Pod Running a Container That Exposes aÂ Port<a href="#pod-running-a-container-that-exposes-aport" class="hash-link" aria-label="Direct link to Pod Running a Container That Exposes aÂ Port" title="Direct link to Pod Running a Container That Exposes aÂ Port">â</a></h3><p>In this yaml file we are using a <code>nginx</code> image and exposing it on the port <code>80</code>Â </p><p>kind: Pod<br>
<!-- -->apiVersion: v1<br>
<!-- -->metadata:<br>
<!-- -->name: pod-exposed-port<br>
<!-- -->spec:<br>
<!-- -->containers:  </p><ul><li>name: container-exposed-port<br>image: nginx<br>ports:  <ul><li><strong>containerPort: 80</strong></li></ul></li></ul><p>Create the pod</p><p>kubectl create -f pod-expose-pod.yaml</p><p>This pod should create a container and expose it on port <code>80</code></p><p>Now we will use the <code>port-forward</code> to expose this port to the localhost or you can define the another port also using the second command</p><p>kubectl port-forward pod-exposed-port 80</p><p>kubectl port-forward pod-exposed-port 8000:80</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*VhAMvJ6K2ywh3CceVqcPEw.png" class="img_ev3q"></p><p>Now you can access the url</p><p><a href="http://localhost" target="_blank" rel="noopener noreferrer">http://localhost</a><br>
<!-- -->http://localhost:8000</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*y9mTLlkhEz2CpZfylTMFfA.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-running-a-container-with-resource-requirements">Pod Running a Container with Resource Requirements<a href="#pod-running-a-container-with-resource-requirements" class="hash-link" aria-label="Direct link to Pod Running a Container with Resource Requirements" title="Direct link to Pod Running a Container with Resource Requirements">â</a></h3><p>In this YAML file, we define theÂ </p><p><strong>Memory requirement for our container</strong></p><p>Minimum Memoryâââ<code>64MB</code>Â </p><p>Maximum Memory- <code>128MB</code></p><p>If the container tries to allocate more than 128 MB of memory, it will be killed with a status of <strong>OOMKilled</strong>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="cpu-requirement-for-our-container"><strong>CPU Requirement for our container</strong><a href="#cpu-requirement-for-our-container" class="hash-link" aria-label="Direct link to cpu-requirement-for-our-container" title="Direct link to cpu-requirement-for-our-container">â</a></h5><p>Minimum CPUâ <code>0.5</code></p><p>Maximum CPU- <code>1</code></p><p>The minimum CPU requirement for CPU is 0.5 (which can also be understood as 500 milli-CPUs and can be written as <strong>500m</strong> instead of <strong>0.5</strong>) and the container will only be allowed to use a maximum of 1 CPU unit.</p><p>kind: Pod<br>
<!-- -->apiVersion: v1<br>
<!-- -->metadata:<br>
<!-- -->name: pod-resources<br>
<!-- -->spec:<br>
<!-- -->containers:  </p><ul><li>name: container-resource-requirements<br>image: nginx<br><strong>resources:<br>limits:<br>memory: &quot;128M&quot;<br>cpu: &quot;1&quot;<br>requests:<br>memory: &quot;64M&quot;<br>cpu: &quot;0.5&quot;</strong></li></ul><p>Create the pod</p><p>kubectl create -f pod-with-resources.yaml</p><p>Describe the pod</p><p>kubectl describe pod-resources</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*NccEmC-yKrG5zhCLcp4uMQ.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-with-resource-requests-that-cant-be-met-by-any-of-thenodes">Pod with Resource Requests That Canât Be Met by Any of theÂ Nodes<a href="#pod-with-resource-requests-that-cant-be-met-by-any-of-thenodes" class="hash-link" aria-label="Direct link to Pod with Resource Requests That Canât Be Met by Any of theÂ Nodes" title="Direct link to Pod with Resource Requests That Canât Be Met by Any of theÂ Nodes">â</a></h3><p>In this yaml file we are using resources which are not available in our cluster nodes.</p><p>kind: Pod<br>
<!-- -->apiVersion: v1<br>
<!-- -->metadata:<br>
<!-- -->name: pod-huge-resources<br>
<!-- -->spec:<br>
<!-- -->containers:  </p><ul><li>name: container-resource-requirements<br>image: nginx<br><strong>resources:<br>limits:<br>memory: &quot;128G&quot;<br>cpu: &quot;1000&quot;<br>requests:<br>memory: &quot;64G&quot;<br>cpu: &quot;500&quot;</strong></li></ul><p>Create a pod</p><p>kubectl create -f pod-with-huge-resources.yaml<br>
<!-- -->kubectl describe pod pod-huge-resources</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*aVCDutkH-fujCMSXV1HH8g.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-with-multiple-containers-running-insideit">Pod with Multiple Containers Running insideÂ It<a href="#pod-with-multiple-containers-running-insideit" class="hash-link" aria-label="Direct link to Pod with Multiple Containers Running insideÂ It" title="Direct link to Pod with Multiple Containers Running insideÂ It">â</a></h3><p>In this yaml file you can see that we are creating two container inside a pod</p><p>kind: Pod<br>
<!-- -->apiVersion: v1<br>
<!-- -->metadata:<br>
<!-- -->name: multi-container<br>
<!-- -->spec:<br>
<!-- -->containers:<br>
<strong>- name: container-1</strong><br>
<!-- -->image: nginx<br>
<strong>- name: container-2</strong><br>
<!-- -->image: ubuntu<br>
<!-- -->command:  </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">- /bin/bash  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- -ec  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">- while :; do echo &#x27;.&#x27;; sleep 5; done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create a Pod</p><p>kubectl create -f pod-multi-container.yaml<br>
<!-- -->kubectl describe pod multi-container</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*TRue4OPFe4oyyRj2lErmMA.png" class="img_ev3q"></p><p>We can specify the container name to get the logs for a particular container running in a pod, as shown here:</p><p>kubectl logs multi-container container-2<br>
<!-- -->kubectl logs multi-container container-1</p><p><img loading="lazy" src="https://cdn-images-1.medium.com/max/800/1*3dmd7KMcpGkPbcCFB9v9fQ.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-lifecycle"><strong>Pod Lifecycle</strong><a href="#pod-lifecycle" class="hash-link" aria-label="Direct link to pod-lifecycle" title="Direct link to pod-lifecycle">â</a></h3><p>Pods has different States as described below:</p><ul><li><strong>Pending</strong>: This means that the pod has been submitted to the cluster, but the controller hasnât created all its containers yet. It may be downloading images or waiting for the pod to be scheduled on one of the cluster nodes.</li><li><strong>Running</strong>: This state means that the pod has been assigned to one of the cluster nodes and at least one of the containers is either running or is in the process of starting up.</li><li><strong>Succeeded</strong>: This state means that the pod has run, and all of its containers have been terminated with success.</li><li><strong>Failed</strong>: This state means the pod has run and at least one of the containers has terminated with a non-zero exit code, that is, it has failed to execute its commands.</li><li><strong>Unknown</strong>: This means that the state of the pod could not be found. This may be because of the inability of the controller to connect with the node that the pod was assigned to.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/*/docs/tags/pods">pods</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://devops4solutions.github.io/docs/edit/main/docs/Kubernetes/kubernetes-pods-examples.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/*/docs/Kubernetes/intro-kubernetes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">What is Kubernetes ?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/*/docs/Kubernetes/labels-and-annotations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kubernetes Labels and Annotation</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisite" class="table-of-contents__link toc-highlight"><strong>Prerequisite</strong>:</a></li><li><a href="#agenda" class="table-of-contents__link toc-highlight"><strong>Agenda</strong>:</a></li><li><a href="#what-is-a-pod" class="table-of-contents__link toc-highlight"><strong>What is a POD</strong></a></li><li><a href="#creating-a-first-pod-with-single-container" class="table-of-contents__link toc-highlight"><strong>Creating a first pod with single container</strong></a></li><li><a href="#create-a-pod-in-different-namespaces" class="table-of-contents__link toc-highlight"><strong>Create a pod in different namespaces</strong></a></li><li><a href="#pod-in-a-different-namespace-by-using-yaml-configuration" class="table-of-contents__link toc-highlight">Pod in a Different Namespace by using yaml configuration</a></li><li><a href="#change-the-default-namespace" class="table-of-contents__link toc-highlight"><strong>Change the default namespace</strong></a></li><li><a href="#pod-running-a-container" class="table-of-contents__link toc-highlight">Pod Running a Container</a></li><li><a href="#pod-running-a-container-that-exposes-aport" class="table-of-contents__link toc-highlight">Pod Running a Container That Exposes aÂ Port</a></li><li><a href="#pod-running-a-container-with-resource-requirements" class="table-of-contents__link toc-highlight">Pod Running a Container with Resource Requirements</a></li><li><a href="#pod-with-resource-requests-that-cant-be-met-by-any-of-thenodes" class="table-of-contents__link toc-highlight">Pod with Resource Requests That Canât Be Met by Any of theÂ Nodes</a></li><li><a href="#pod-with-multiple-containers-running-insideit" class="table-of-contents__link toc-highlight">Pod with Multiple Containers Running insideÂ It</a></li><li><a href="#pod-lifecycle" class="table-of-contents__link toc-highlight"><strong>Pod Lifecycle</strong></a></li></ul></div></div></div></div></main></div></div></div>
<script src="/*/assets/js/runtime~main.2059c8d6.js"></script>
<script src="/*/assets/js/main.3d7a9db0.js"></script>
</body>
</html>